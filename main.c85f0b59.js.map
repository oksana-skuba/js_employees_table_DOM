{"version":3,"sources":["scripts/main.js"],"names":["table","document","querySelector","tableHead","tableBody","indexCol","orderASC","sortRows","indexColumn","order","bodyRows","Array","from","querySelectorAll","sort","a","b","aValue","innerText","bValue","includes","slice","replace","localeCompare","innerHTML","forEach","row","append","addEventListener","ev","index","target","cellIndex","classList","remove","parentNode","add","form","createForm","formEl","createElement","body","appendChild","nameLabel","textContent","nameInput","type","required","setAttribute","positionLabel","positionInput","officeLabel","officeSelect","officeOptions","i","length","option","value","text","ageLabel","ageInput","salaryLabel","salaryInput","submitButton","validationForm","formD","data","FormData","valid","trim","pushNotification","get","preventDefault","formDataArray","parseInt","toLocaleString","style","currency","split","tr","td","reset","posTop","posRight","title","description","divElement","h2Element","pElement","top","right","setTimeout"],"mappings":"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","file":"main.c85f0b59.js","sourceRoot":"..\\src","sourcesContent":["'use strict';\n\nconst table = document.querySelector('table');\nconst tableHead = table.querySelector('thead');\nconst tableBody = table.querySelector('tbody');\n\nlet indexCol = null;\nlet orderASC = null;\n\ntableHead.addEventListener('click', ev => {\n  const index = ev.target.cellIndex;\n\n  if (indexCol === ev.target.cellIndex) {\n    orderASC = !orderASC;\n  } else {\n    indexCol = ev.target.cellIndex;\n    orderASC = true;\n  }\n\n  sortRows(index, orderASC);\n});\n\n// sort table\nfunction sortRows(indexColumn, order) {\n  const bodyRows = Array.from(tableBody.querySelectorAll('tr'));\n\n  bodyRows.sort((a, b) => {\n    let aValue = a.querySelectorAll('td')[indexColumn].innerText;\n    let bValue = b.querySelectorAll('td')[indexColumn].innerText;\n\n    if (aValue.includes('$')) {\n      aValue = aValue.slice(1).replace(',', '');\n      bValue = bValue.slice(1).replace(',', '');\n\n      return order ? aValue - bValue : bValue - aValue;\n    }\n\n    return order ? aValue.localeCompare(bValue) : bValue.localeCompare(aValue);\n  });\n\n  tableBody.innerHTML = '';\n\n  bodyRows.forEach(row => {\n    tableBody.append(row);\n  });\n}\n\n// selected row\ntableBody.addEventListener('click', ev => {\n  const rows = tableBody.querySelectorAll('tr');\n\n  rows.forEach(row => {\n    row.classList.remove('active');\n  });\n  ev.target.parentNode.classList.add('active');\n});\n\n// create form\nconst form = createForm();\n\nfunction createForm() {\n  const formEl = document.createElement('form');\n\n  document.body.appendChild(formEl);\n  formEl.classList.add('new-employee-form');\n\n  const nameLabel = document.createElement('label');\n\n  nameLabel.textContent = 'Name:';\n\n  const nameInput = document.createElement('input');\n\n  nameInput.type = 'text';\n  nameInput.required = true;\n  nameInput.setAttribute('name', 'name');\n  nameInput.setAttribute('data-qa', 'name');\n  nameLabel.appendChild(nameInput);\n  formEl.appendChild(nameLabel);\n\n  const positionLabel = document.createElement('label');\n\n  positionLabel.textContent = 'Position:';\n\n  const positionInput = document.createElement('input');\n\n  positionInput.type = 'text';\n  positionInput.required = true;\n  positionInput.setAttribute('name', 'position');\n  positionInput.setAttribute('data-qa', 'position');\n  positionLabel.appendChild(positionInput);\n  formEl.appendChild(positionLabel);\n\n  const officeLabel = document.createElement('label');\n\n  officeLabel.textContent = 'Office:';\n\n  const officeSelect = document.createElement('select');\n\n  officeSelect.required = true;\n  officeSelect.setAttribute('name', 'office');\n  officeSelect.setAttribute('data-qa', 'office');\n\n  const officeOptions = ['Tokyo', 'Singapore', 'London',\n    'New York', 'Edinburgh', 'San Francisco'];\n\n  for (let i = 0; i < officeOptions.length; i++) {\n    const option = document.createElement('option');\n\n    option.value = officeOptions[i];\n    option.text = officeOptions[i];\n    officeSelect.appendChild(option);\n  }\n\n  officeLabel.appendChild(officeSelect);\n  formEl.appendChild(officeLabel);\n\n  const ageLabel = document.createElement('label');\n\n  ageLabel.textContent = 'Age:';\n\n  const ageInput = document.createElement('input');\n\n  ageInput.type = 'number';\n  ageInput.required = true;\n  ageInput.setAttribute('name', 'age');\n  ageInput.setAttribute('data-qa', 'age');\n  ageLabel.appendChild(ageInput);\n  formEl.appendChild(ageLabel);\n\n  const salaryLabel = document.createElement('label');\n\n  salaryLabel.textContent = 'Salary:';\n\n  const salaryInput = document.createElement('input');\n\n  salaryInput.type = 'number';\n  salaryInput.required = true;\n  salaryInput.setAttribute('name', 'salary');\n  salaryInput.setAttribute('data-qa', 'salary');\n  salaryLabel.appendChild(salaryInput);\n  formEl.appendChild(salaryLabel);\n\n  const submitButton = document.createElement('button');\n\n  submitButton.type = 'submit';\n  submitButton.textContent = 'Save to table';\n  formEl.appendChild(submitButton);\n\n  return formEl;\n}\n\n// sent form and create row\nform.addEventListener('submit', (ev) => {\n  ev.preventDefault();\n\n  const data = new FormData(form);\n\n  if (validationForm(ev.target)) {\n    const formDataArray = [\n      data.get('name'),\n      data.get('position'),\n      data.get('office'),\n      data.get('age'),\n      data.get('salary'),\n    ];\n\n    formDataArray[4] = parseInt(formDataArray[4]).toLocaleString('en-US', {\n      style: 'currency', currency: 'USD',\n    }).split('.')[0];\n\n    const tr = document.createElement('tr');\n\n    for (let i = 0; i < formDataArray.length; i++) {\n      const td = document.createElement('td');\n\n      td.innerText = formDataArray[i].trim();\n\n      tr.append(td);\n    }\n\n    tableBody.append(tr);\n    form.reset();\n\n    pushNotification(0, 650, 'Success!',\n      'New user added to the table.', 'success');\n  };\n});\n\n// validation dataForm\nfunction validationForm(formD) {\n  const data = new FormData(formD);\n  const minAge = 18;\n  const maxAge = 90;\n  const nameLength = 4;\n  let valid = true;\n\n  data.forEach(value => {\n    if (value.trim() === '') {\n      pushNotification(\n        0, 250, 'Please fill field',\n        'Field can\\'t be empty', 'error'\n      );\n      valid = false;\n    }\n  });\n\n  if (data.get('name').length < nameLength && valid) {\n    pushNotification(\n      0, 250,\n      'Please, enter correct name', 'Name should be at least 4 symbols',\n      'error'\n    );\n    valid = false;\n  }\n\n  if ((data.get('age') < minAge || data.get('age') > maxAge) && valid) {\n    pushNotification(\n      0, 250, 'Please, enter correct age',\n      'Age should be more than 18 and less then 90', 'error'\n    );\n    valid = false;\n  }\n\n  if (data.get('salary') <= 0 && valid) {\n    pushNotification(\n      0, 250, 'Please, enter correct salary',\n      'Salary should be more than 0', 'error'\n    );\n    valid = false;\n  }\n\n  return valid;\n}\n\n// notification\nconst pushNotification = (posTop, posRight, title, description, type) => {\n  const divElement = document.createElement('div');\n  const h2Element = document.createElement('h2');\n  const pElement = document.createElement('p');\n\n  divElement.append(h2Element, pElement);\n  divElement.style.top = `${posTop}px`;\n  divElement.style.right = `${posRight}px`;\n  divElement.classList.add('notification', type);\n  divElement.setAttribute('data-qa', 'notification');\n\n  document.body.append(divElement);\n\n  h2Element.innerText = title;\n  h2Element.classList.add('title');\n\n  pElement.innerText = description;\n\n  setTimeout(() => {\n    divElement.remove();\n  }, 3000);\n};\n"]}